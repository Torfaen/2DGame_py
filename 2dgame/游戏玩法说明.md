# 🎮 泡泡堂游戏 - 完整玩法说明

> 简单易懂的游戏操作指南

---

## 🎯 游戏目标

**击败对手！** 
- 在地图上移动，放置炸弹
- 炸弹爆炸会伤害玩家
- **最后活下来的玩家获胜！**

---

## ⌨️ 控制方式

### 👤 玩家1（默认：红色角色 - 曼波）

```
移动：
  ↑ 上箭头键    → 向上移动
  ↓ 下箭头键    → 向下移动
  ← 左箭头键    → 向左移动
  → 右箭头键    → 向右移动

放置炸弹：
  右 Shift 键   → 在当前位置放置炸弹
```

### 👤 玩家2（默认：蓝色角色 - 哈基米）

```
移动：
  W 键    → 向上移动
  S 键    → 向下移动
  A 键    → 向左移动
  D 键    → 向右移动

放置炸弹：
  左 Shift 键   → 在当前位置放置炸弹
```

### 🛠️ 其他快捷键

```
数字键 1   → 开启/关闭调试模式
            （显示碰撞框、坐标等）

R 键      → 游戏结束后重新开始
          （仅在游戏结束时有效）

关闭窗口  → 退出游戏
```

---

## 💣 炸弹机制

### 基本规则

1. **放置炸弹**
   - 按住 Shift 键可以在你当前所在的格子放置炸弹
   - 炸弹会放在你脚底的格子里
   - 放置后炸弹会开始倒计时（约3秒）

2. **炸弹数量限制**
   - **玩家1**：最多同时放置 **2个** 炸弹
   - **玩家2**：最多同时放置 **1个** 炸弹
   - 只有炸弹爆炸后，才能放新的炸弹

3. **爆炸范围**
   - **玩家1**：炸弹爆炸范围是 **7格**（十字形）
   - **玩家2**：炸弹爆炸范围是 **3格**（十字形）
   - 爆炸范围是十字形的（上下左右）

4. **爆炸效果**
   - 炸弹爆炸时会摧毁范围内的**可破坏方块**
   - 爆炸会伤害范围内的**玩家**
   - 爆炸会**连锁引爆**范围内的其他炸弹

### 🔥 连锁爆炸（重要！）

```
炸弹A爆炸
  ↓
检查爆炸范围内的所有炸弹
  ↓
如果发现炸弹B在范围内
  ↓
炸弹B立即爆炸（不需要等倒计时）
  ↓
炸弹B爆炸又检查范围内的炸弹
  ↓
继续连锁...
```

**技巧：** 可以故意把炸弹放在一起，制造大范围连锁爆炸！

---

## 🗺️ 地图元素

### 不可破坏的墙壁
- 深色的房子、树木等
- **不能通过，不能摧毁**
- 可以躲在后面躲避爆炸

### 可破坏的方块
- 木箱、铁箱等
- **可以被炸弹摧毁**
- 摧毁后可能掉落道具（功能开发中）

### 空地
- 草地、地板
- **可以自由移动**
- 适合放置炸弹

---

## ⚡ 玩家属性（当前版本）

### 玩家1（默认配置）
```
移动速度：    3 像素/帧
最大速度：    10 像素/帧
炸弹数量：    2 个（同时最多）
最大炸弹数：  8 个（上限）
爆炸范围：    7 格
最大爆炸范围：8 格
出生位置：    (400, 300)
```

### 玩家2（默认配置）
```
移动速度：    3 像素/帧
最大速度：    10 像素/帧
炸弹数量：    1 个（同时最多）
最大炸弹数：  8 个（上限）
爆炸范围：    3 格
最大爆炸范围：8 格
出生位置：    (200, 100)
```

**注意：** 这些属性可以在 `config/config.yaml` 文件中修改！

---

## 🎮 游戏模式

### 当前模式：ONE_LIFE（一条命）

- **被炸到 = 立即死亡**
- **最后活下来的玩家获胜**
- **如果双方同时死亡 = 平局**
- 游戏结束后按 **R 键** 可以重新开始

### 未来模式：POINT（分数模式）
- 功能开发中
- 预计：被炸到扣分，最后分数高的获胜

---

## 💡 游戏技巧

### 🏃 移动技巧

1. **不要站在炸弹上！**
   - 放置炸弹后立即离开
   - 炸弹倒计时结束后会爆炸

2. **利用墙壁**
   - 躲在墙壁后面可以躲避爆炸
   - 但要注意爆炸范围是十字形的

3. **预判爆炸**
   - 观察炸弹的倒计时
   - 提前移动到安全区域

### 💣 炸弹技巧

1. **封路**
   - 在对手必经之路上放炸弹
   - 逼迫对手绕路或等待

2. **连锁陷阱**
   - 把多个炸弹放在一起
   - 第一个爆炸会引爆其他的，形成大范围爆炸

3. **摧毁障碍**
   - 用炸弹炸开木箱等障碍
   - 开辟新的逃跑路径

4. **堵死对手**
   - 在对手周围放置多个炸弹
   - 限制对手的移动空间

### ⚠️ 注意事项

1. **炸弹会炸到自己！**
   - 如果你在爆炸范围内，你也会被炸死
   - 小心不要被自己的炸弹误伤

2. **炸弹数量限制**
   - 注意你能同时放置的炸弹数量
   - 如果达到上限，需要等炸弹爆炸才能放新的

3. **连锁爆炸不可控**
   - 连锁爆炸可能会炸到你意想不到的地方
   - 提前规划逃跑路线

---

## 🎯 实战策略

### 进攻型策略
```
1. 主动靠近对手
2. 在对手附近快速放置炸弹
3. 利用连锁爆炸扩大伤害范围
4. 逼迫对手进入死胡同
```

### 防守型策略
```
1. 保持距离，观察对手动向
2. 在安全区域放置炸弹
3. 利用墙壁和障碍物躲避
4. 等待对手犯错
```

### 陷阱型策略
```
1. 在对手必经之路上提前布置炸弹
2. 引诱对手进入陷阱区域
3. 用连锁爆炸一次性解决
```

---

## 🔧 调试模式

按 **数字键 1** 可以开启/关闭调试模式

**调试模式下会显示：**
- ✅ 所有碰撞框（红色框）
- ✅ 地图坐标
- ✅ 障碍物位置
- ✅ 玩家的碰撞检测区域

**用途：**
- 学习游戏机制
- 调试问题
- 理解碰撞检测

---

## 🎨 视觉提示

### 游戏中你会看到：

1. **玩家角色**
   - 两个不同颜色的角色
   - 移动时有动画效果

2. **炸弹**
   - 放在地上的炸弹会闪烁
   - 倒计时时会改变动画

3. **爆炸效果**
   - 爆炸时会有火焰动画
   - 十字形的爆炸范围

4. **地图元素**
   - 地板、墙壁、障碍物
   - 按 Y 轴排序显示（后面的会遮挡前面的）

---

## 🏆 胜利条件

### 获胜方式

1. **击败对手**
   - 用炸弹炸死对手
   - 对手被炸后你会获胜

2. **对手失误**
   - 对手被自己的炸弹炸死
   - 对手被连锁爆炸波及

### 平局

- 双方同时被炸死
- 屏幕上会显示 "no winner!"

---

## 🔄 重新开始

游戏结束后：
- 按 **R 键** 可以立即重新开始
- 所有状态会重置
- 玩家回到出生点
- 地图恢复原状

---

## ❓ 常见问题

**Q: 为什么放不了炸弹？**
A: 检查是否达到炸弹数量上限，或者是否还在冷却时间。

**Q: 为什么被炸了没死？**
A: 检查游戏模式，ONE_LIFE 模式应该会立即死亡。可能是代码bug。

**Q: 炸弹范围怎么算的？**
A: 从炸弹中心向上下左右各延伸 N 格（N = bomb_power）。

**Q: 可以改控制键吗？**
A: 可以！在 `config/config.yaml` 文件中修改 `controls` 部分。

**Q: 游戏卡顿怎么办？**
A: 检查电脑性能，或者降低 FPS（在 config.yaml 中修改 `fps: 60` 为更小的值）。

---

## 🎮 开始游戏

### 运行步骤：

1. 打开命令行（终端）
2. 进入项目目录：
   ```bash
   cd 2dgame/src
   ```
3. 运行游戏：
   ```bash
   python main2.py
   ```
4. 游戏窗口会弹出，开始对战！

### 需要准备：

- ✅ Python 3.x 已安装
- ✅ Pygame 库已安装（`pip install pygame`）
- ✅ 两个玩家（或一个人控制两个角色练习）

---

## 🎉 享受游戏！

记住：**策略 + 反应速度 = 胜利！**

多练习，熟悉地图和炸弹机制，你就能成为泡泡堂大师！💪

---

**提示：** 如果觉得太难或太简单，可以在 `config/config.yaml` 中调整玩家属性（速度、炸弹数量、爆炸范围）来平衡游戏难度！

